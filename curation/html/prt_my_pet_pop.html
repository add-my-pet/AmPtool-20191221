
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>prt_my_pet_pop</title><meta name="generator" content="MATLAB 9.1"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-07-14"><meta name="DC.source" content="prt_my_pet_pop.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>prt_my_pet_pop</h1><!--introduction--><p>Creates my_pet_pop.html in specified directory</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#3">Syntax</a></li><li><a href="#4">Description</a></li><li><a href="#5">Remarks</a></li><li><a href="#6">Example of use</a></li></ul></div><h2 id="3">Syntax</h2><p><a href="../prt_my_pet_pop.m"><b>prt_my_pet_pop</b></a> (species, T, f, destinationFolder)</p><h2 id="4">Description</h2><p>Writes my_pet_pop.html with a list implied model properties for selected species at population level. The parameters of species are obtained either from allStat.mat, or by metaData, metaPar and par, which are output structures of <a href="http://www.debtheory.org/wiki/index.php?title=Mydata_file"><b>mydata_my_pet</b></a>, <a href="http://www.debtheory.org/wiki/index.php?title=Pars_init_file"><b>pars_init_my_pet</b></a> and <a href="http://www.debtheory.org/wiki/index.php?title=Pars_init_file"><b>pars_init_my_pet</b></a> respectively, as part of the parameter estimation process. If 3rd input is a character string, it should specify a fraction for f in the interval (f_min, 1)</p><p>Input:</p><div><ul><li>species: character-string with name of entry or cellstring with structures: {metaData, metaPar, par}</li><li>T: optional scalar with temperature in Kelvin (default: T_typical if metaData is specified or 20 C is character string is specified)</li><li>f: optional scalar scaled functional response (default: 1) or character string representing a fraction</li><li>destinationFolder: optional string with destination folder the output html-file (default: current folder)</li><li>AmP: boolean, if true then output my_pet_pop.html follows markup of the AmP collection</li></ul></div><p>Output:</p><div><ul><li>no Malab output, but a html-file is written with report-table and opened automatically in the system browser</li></ul></div><h2 id="5">Remarks</h2><p>If species is specified by string (rather than by data), its parameters are obtained from allStat.mat.</p><p>The search boxes in the top-line of the report can be used to symbols, units, descriptions, but also (on the top-right) to make selections from the statictics. nan means "not a number": the model for that species does not have that field.</p><h2 id="6">Example of use</h2><div><ul><li>If results_My_Pet.mat exists in current directory (where "My_Pet" is replaced by the name of some species, but don't replace "my_pet"):   load('results_My_Pet.mat'); prt_report_my_pet({par, metaPar, txtPar, metaData}, [], T, f, destinationFolder)</li><li>prt_my_pet_pop('Rana_temporaria')</li><li>prt_my_pet_pop('Rana_temporaria', C2K(22))</li><li>prt_my_pet_pop('Rana_temporaria', [], 0.9)</li><li>prt_my_pet_pop('Rana_temporaria', [], '0.5')</li></ul></div><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2016b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% prt_my_pet_pop
% Creates my_pet_pop.html in specified directory

%%
function prt_my_pet_pop(species, T, f, destinationFolder, AmP)
% created 2019/07/08 Bas Kooijman

%% Syntax
% <../prt_my_pet_pop.m *prt_my_pet_pop*> (species, T, f, destinationFolder) 

%% Description
% Writes my_pet_pop.html with a list implied model properties for selected species at population level. 
% The parameters of species are obtained either from allStat.mat, or by metaData, metaPar and par, which are output structures of
% <http://www.debtheory.org/wiki/index.php?title=Mydata_file *mydata_my_pet*>,
% <http://www.debtheory.org/wiki/index.php?title=Pars_init_file *pars_init_my_pet*>
% and <http://www.debtheory.org/wiki/index.php?title=Pars_init_file *pars_init_my_pet*> 
% respectively, as part of the parameter estimation process.
% If 3rd input is a character string, it should specify a fraction for f in the interval (f_min, 1)
%
% Input:
%
% * species: character-string with name of entry or cellstring with structures: {metaData, metaPar, par}
% * T: optional scalar with temperature in Kelvin (default: T_typical if metaData is specified or 20 C is character string is specified)
% * f: optional scalar scaled functional response (default: 1) or character string representing a fraction
% * destinationFolder: optional string with destination folder the output html-file (default: current folder) 
% * AmP: boolean, if true then output my_pet_pop.html follows markup of the AmP collection
%
% Output:
%
% * no Malab output, but a html-file is written with report-table and opened automatically in the system browser
%
%% Remarks
% If species is specified by string (rather than by data), its parameters are obtained from allStat.mat. 
% 
% The search boxes in the top-line of the report can be used to symbols, units, descriptions, but also (on the top-right) to make selections from the statictics.
% nan means "not a number": the model for that species does not have that field.
%
%% Example of use
%
% * If results_My_Pet.mat exists in current directory (where "My_Pet" is replaced by the name of some species, but don't replace "my_pet"):
%   load('results_My_Pet.mat'); prt_report_my_pet({par, metaPar, txtPar, metaData}, [], T, f, destinationFolder)
% * prt_my_pet_pop('Rana_temporaria')
% * prt_my_pet_pop('Rana_temporaria', C2K(22))
% * prt_my_pet_pop('Rana_temporaria', [], 0.9)
% * prt_my_pet_pop('Rana_temporaria', [], '0.5')

if exist('T', 'var') && ~isempty(T)
  if ischar(T) || T < 150
    fprintf('Warning: you probably tried to specify the third input, forgetting the second one\n')
    return
  end
end

if ~exist('AmP', 'var')
  AmP = 0;
end

% get parameters (2 possible routes for getting pars)
n_fVal = 3; % 3 values for f
if iscell(species) %  use metaData, metaPar and par to specify (one or more) focusSpecies
  par = species{1}; metaPar = species{2}; txtPar = species{3}; metaData = species{4}; species = metaData.species; 
  datePrintNm = ['date: ',datestr(date, 'yyyy/mm/dd')];
  n_fVal = 3; % 3 f- values: min, f and max
  if ~exist('f', 'var') || isempty(f)
    n_fVal = 2; % 2 f- values: min and max
    f = 1;
  end
else  % use allStat.mat as parameter source 
  [par, metaPar, txtPar, metaData] = allStat2par(species); 
  allStatInfo = dir(which('allStat.mat')); datePrintNm = strsplit(allStatInfo.date, ' '); 
  datePrintNm = ['allStat version: ', datestr(datePrintNm(1), 'yyyy/mm/dd')];
  if ~exist('f', 'var') || isempty(f)
    n_fVal = 2; % 2 f- values: min and max
    f = 1;
  end
end

model = metaPar.model;

if ~exist('T','var') || isempty(T)
  T = metaData.T_typical;
end

% path+filename of output file
if exist('destinationFolder','var')
  fileName = [destinationFolder, species, '_pop.html'];
else
  fileName = [species, '_pop', '.html'];
end
 
% species: get statistics
[stat, txtStat, Hfig_surv, Hfig_stab] = popStatistics_st(model, par, T, f);
if isfield(stat, 'h_B0b')
  h_B0b = stat.h_B0b; stat = rmfield(stat, 'h_B0b');
else
  h_B0b = 0;
end
if isfield(stat, 'h_Bbp')
  h_Bbp = stat.h_Bbp; stat = rmfield(stat, 'h_Bbp');
else
  h_Bbp = 0;
end
if isfield(stat, 'h_Bpi')
  h_Bpi = stat.h_Bpi; stat = rmfield(stat, 'h_Bpi');
else
  h_Bpi = 0;
end
stat = rmfield(stat, {'T', 'c_T'}); 
fldsStat = fieldnames(stat); % fieldnames of all statistics

% write table
oid = fopen(fileName, 'w+'); % open file for writing, delete existing content

fprintf(oid, '<!DOCTYPE html>\n');
fprintf(oid, '<HTML>\n');
fprintf(oid, '<HEAD>\n');
fprintf(oid, '  <TITLE>%s pop</TITLE>\n', species);

if AmP
fprintf(oid, '  <link rel="stylesheet" type="text/css" href="../../sys/style.css"> \n');
fprintf(oid, '  <script src="../../sys/dropdown.js"></script>\n');
fprintf(oid, '  <script src="../../sys/w3data.js"></script>\n');
end

fprintf(oid, '  <style>\n');

fprintf(oid, '    #InputSymbol {\n');
fprintf(oid, '      background-image: url(''../../img/searchicon.png'');\n');
fprintf(oid, '      background-position: 2px -10px;\n');
fprintf(oid, '      background-repeat: no-repeat;\n');
fprintf(oid, '      width: 15%%; /* Width of search field */\n');
fprintf(oid, '      font-size: 14px; /* Increase font-size */\n');
fprintf(oid, '      padding: 5px 10px 7px 40px;\n');
fprintf(oid, '      border: 1px solid #ddd; /* Add a grey border */\n');
fprintf(oid, '      margin-bottom: 12px; /* Add some space below the input */\n');
fprintf(oid, '    }\n\n');

fprintf(oid, '    #InputUnits {\n');
fprintf(oid, '      background-image: url(''../../img/searchicon.png'');\n');
fprintf(oid, '      background-position: 2px -10px;\n');
fprintf(oid, '      background-repeat: no-repeat;\n');
fprintf(oid, '      width: 15%%; /* Width of search field */\n');
fprintf(oid, '      font-size: 14px; /* Increase font-size */\n');
fprintf(oid, '      padding: 5px 10px 7px 40px;\n');
fprintf(oid, '      border: 1px solid #ddd; /* Add a grey border */\n');
fprintf(oid, '      margin-bottom: 12px; /* Add some space below the input */\n');
fprintf(oid, '    }\n\n');

fprintf(oid, '    #InputLabel {\n');
fprintf(oid, '      background-image: url(''../../img/searchicon.png'');\n');
fprintf(oid, '      background-position: 2px -10px;\n');
fprintf(oid, '      background-repeat: no-repeat;\n');
fprintf(oid, '      width: 15%%; /* Width of search field */\n');
fprintf(oid, '      font-size: 14px; /* Increase font-size */\n');
fprintf(oid, '      padding: 5px 10px 7px 40px;\n');
fprintf(oid, '      border: 1px solid #ddd; /* Add a grey border */\n');
fprintf(oid, '      margin-bottom: 12px; /* Add some space below the input */\n');
fprintf(oid, '    }\n\n');

fprintf(oid, '    #InputShort {\n');
fprintf(oid, '      background-image: url(''../../img/searchicon.png'');\n');
fprintf(oid, '      background-position: 2px -10px;\n');
fprintf(oid, '      background-repeat: no-repeat;\n');
fprintf(oid, '      width: 15%%; /* Width of search field */\n');
fprintf(oid, '      font-size: 14px; /* Increase font-size */\n');
fprintf(oid, '      padding: 5px 10px 7px 40px;\n');
fprintf(oid, '      border: 1px solid #ddd; /* Add a grey border */\n');
fprintf(oid, '      margin-bottom: 12px; /* Add some space below the input */\n');
fprintf(oid, '    }\n\n');

fprintf(oid, '    #head0 {\n');
fprintf(oid, '      background-color: #FFE7C6\n');                          % pink header background
fprintf(oid, '    }\n\n');
fprintf(oid, '    #head1 {\n');
fprintf(oid, '      background-color: #FFE7C6\n');                          % pink header background
fprintf(oid, '    }\n\n');

fprintf(oid, '    #caption {\n');
fprintf(oid, '      width: 450px\n');                                       % caption-width equal to figure-width
fprintf(oid, '    }\n\n');

fprintf(oid, '    div.fig {\n');
fprintf(oid, '      width: 50%%;\n');
fprintf(oid, '      float: left;\n');
fprintf(oid, '    }\n\n');

fprintf(oid, '    #Table {\n');
fprintf(oid, '      border-style: solid hidden solid hidden;\n');           % border top & bottom only
fprintf(oid, '    }\n\n');

fprintf(oid, '    tr:nth-child(even){background-color: #f2f2f2}\n');        % grey on even rows
fprintf(oid, '    td:nth-child(odd){border-left: solid 1px black}\n\n');    % lines between species

fprintf(oid, '  </style>\n\n');

fprintf(oid, '</HEAD>\n\n');
fprintf(oid, '<BODY>\n\n');

if AmP
fprintf(oid, '<div w3-include-html="../../sys/wallpaper_entry.html"></div>\n');
fprintf(oid, '<div w3-include-html="../../sys/toolbar_entry.html"></div>\n');
fprintf(oid, '<div id="top2" w3-include-html="%s_toolbar.html\n"></div>', species);
fprintf(oid, '<script>w3IncludeHTML();</script>\n\n');

fprintf(oid, '<div id = "main">\n');
fprintf(oid, '  <div id = "main-wrapper">\n');
fprintf(oid, '    <div id="contentFull">\n');

end

% title
fprintf(oid,'    <h1 align="center">%s: Implied population properties</h1>\n', species);
fprintf(oid,'    <h3 align="center">at T = %g &deg;C with background hazards for embryo, juv, adult: %g, %g, %g 1/d</h3>\n', K2C(T), h_B0b, h_Bbp, h_Bpi);
			
% search boxes above the table
fprintf(oid, '      <div>\n');
fprintf(oid, '        <input type="text" id="InputSymbol" onkeyup="FunctionSymbol()" placeholder="Search for symbol ..">\n');
fprintf(oid, '        <input type="text" id="InputUnits"  onkeyup="FunctionUnits()"  placeholder="Search for units ..">\n');
fprintf(oid, '        <input type="text" id="InputLabel"  onkeyup="FunctionLabel()"  placeholder="Search for label ..">\n');
fprintf(oid, '        <input type="text" id="InputShort"  onkeyup="FunctionShort()"  placeholder="Short/Medium" title="Type S or M">\n');
fprintf(oid, '      </div>\n\n');

% open table
fprintf(oid, '      <TABLE id="Table">\n');
if n_fVal == 2 % values for scaled functional response

% table head:
fprintf(oid, '        <TR id="head0"> <TH  colspan="2">model %s</TH> <TH colspan="2">f_min</TH> <TH colspan="2">f_max</TH> <TH>%s</TH></TR>\n', model, datePrintNm);
fprintf(oid, '        <TR id="head1"> <TH>symbol</TH> <TH>units</TH> <TH>thin false</TH> <TH>thin true</TH> <TH>thin false</TH> <TH>thin true</TH> <TH>description</TH></TR>\n\n');

% table body
for i = 1:length(fldsStat)
fprintf(oid, '        <TR id="%s"> <TD>%s</TD> <TD>%s</TD>\n', fldsStat{i}, fldsStat{i}, txtStat.units.(fldsStat{i}));
fprintf(oid, '          <TD>%g</TD> <TD>%g</TD> <TD>%g</TD> <TD>%g</TD>  <TD>%s</TD>\n', ...
    stat.(fldsStat{i}).f0.thin0, stat.(fldsStat{i}).f0.thin1, stat.(fldsStat{i}).f1.thin0, stat.(fldsStat{i}).f1.thin1, txtStat.label.(fldsStat{i}));
fprintf(oid, '        </TR>\n');
end 

else % n_fVal = 3 values for scaled functional response
    
% table head:
fprintf(oid, '        <TR id="head0"> <TH  colspan="2">model %s</TH> <TH colspan="2">f_min</TH> <TH colspan="2">f</TH> <TH colspan="2">f_max</TH> <TH>%s</TH></TR>\n', model, datePrintNm);
fprintf(oid, '        <TR id="head1"> <TH>symbol</TH> <TH>units</TH> <TH>thin false</TH> <TH>thin true</TH> <TH>thin false</TH> <TH>thin true</TH> <TH>thin false</TH> <TH>thin true</TH> <TH>description</TH></TR>\n\n');

% table body
for i = 1:length(fldsStat)
fprintf(oid, '        <TR id="%s"> <TD>%s</TD> <TD>%s</TD>\n', fldsStat{i}, fldsStat{i}, txtStat.units.(fldsStat{i}));
fprintf(oid, '          <TD>%g</TD> <TD>%g</TD> <TD>%g</TD> <TD>%g</TD>  <TD>%g</TD> <TD>%g</TD>  <TD>%s</TD>\n', ...
    stat.(fldsStat{i}).f0.thin0, stat.(fldsStat{i}).f0.thin1, stat.(fldsStat{i}).f.thin0, stat.(fldsStat{i}).f.thin1, stat.(fldsStat{i}).f1.thin0, stat.(fldsStat{i}).f1.thin1, txtStat.label.(fldsStat{i}));
fprintf(oid, '        </TR>\n');
end 

end

% save figure, produced by popStatistics_st
saveas (Hfig_surv,['pop_', species, '_01.png']);
saveas (Hfig_stab,['pop_', species, '_02.png']);
close all

% close table
fprintf(oid, '      </TABLE>\n\n');

% graphics
fprintf(oid, '      <div class="fig">\n'); % survival probability
fprintf(oid, '        <img src="pop_%s_01.png" width="450px"> \n', species);
fprintf(oid, '        <div id="caption">\n');
fprintf(oid, '          Ln survival probability as function of age, \n');
fprintf(oid, '          with (dashed) and without (solid) thinning at max (red) and min (blue) scaled functional response.\n');
fprintf(oid, '        </div>\n');
fprintf(oid, '      </div>\n\n');

fprintf(oid, '      <div class="fig">\n'); % stable age distribution
fprintf(oid, '        <img src="pop_%s_02.png" width="450px"> \n', species);
fprintf(oid, '        <div id="caption">\n');
fprintf(oid, '          Ln survivor function of the stable age distribution as function of age, \n');
fprintf(oid, '          with (dashed) and without (solid) thinning at max (red) and min (blue) scaled functional response.\n');
fprintf(oid, '        </div>\n');
fprintf(oid, '      </div>\n\n');

% remarks
fprintf(oid, '      <div>\n');
fprintf(oid, '        <h2>Remarks</h2>\n');
fprintf(oid, '        <ul>\n');
fprintf(oid, '          <li>Concerns population of females only</li>\n');
fprintf(oid, '          <li>Buffer handling rule: release each egg as soon as reproduction buffer allows</li>\n');
fprintf(oid, '          <li>Weights of adults do not include reproduction buffer</li>\n');
fprintf(oid, '        </ul>\n');
fprintf(oid, '      </div>\n');

% search/selection facilities
% symbol
fprintf(oid, '      <script>\n');
fprintf(oid, '        function FunctionSymbol() {\n');
fprintf(oid, '          // Declare variables\n');
fprintf(oid, '          var input, filter, table, tr, td, i;\n');
fprintf(oid, '          input = document.getElementById("InputSymbol");\n');
fprintf(oid, '          filter = input.value.toUpperCase();\n');
fprintf(oid, '          table = document.getElementById("Table");\n');
fprintf(oid, '          tr = table.getElementsByTagName("tr");\n\n');
%
fprintf(oid, '          // Loop through all table rows, and hide those who don''t match the search query\n');
fprintf(oid, '          for (i = 0; i < tr.length; i++) {\n');
fprintf(oid, '          td = tr[i].getElementsByTagName("td")[0];\n');
fprintf(oid, '          if (td) {\n');
fprintf(oid, '            if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {\n');
fprintf(oid, '              tr[i].style.display = "";\n');
fprintf(oid, '            } else {\n');
fprintf(oid, '              tr[i].style.display = "none";\n');
fprintf(oid, '              }\n');
fprintf(oid, '            }\n');
fprintf(oid, '          }\n');
fprintf(oid, '        }\n\n');
% units
fprintf(oid, '        function FunctionUnits() {\n');
fprintf(oid, '          // Declare variables\n');
fprintf(oid, '          var input, filter, table, tr, td, i;\n');
fprintf(oid, '          input = document.getElementById("InputUnits");\n');
fprintf(oid, '          filter = input.value.toUpperCase();\n');
fprintf(oid, '          table = document.getElementById("Table");\n');
fprintf(oid, '          tr = table.getElementsByTagName("tr");\n\n');
%
fprintf(oid, '          // Loop through all table rows, and hide those who don''t match the search query\n');
fprintf(oid, '          for (i = 0; i < tr.length; i++) {\n');
fprintf(oid, '          td = tr[i].getElementsByTagName("td")[1];\n');
fprintf(oid, '          if (td) {\n');
fprintf(oid, '            if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {\n');
fprintf(oid, '              tr[i].style.display = "";\n');
fprintf(oid, '            } else {\n');
fprintf(oid, '              tr[i].style.display = "none";\n');
fprintf(oid, '              }\n');
fprintf(oid, '            }\n');
fprintf(oid, '          }\n');
fprintf(oid, '        }\n\n');
% label (= description)
fprintf(oid, '        function FunctionLabel() {\n');
fprintf(oid, '          // Declare variables\n');
fprintf(oid, '          var input, filter, table, tr, td, i;\n');
fprintf(oid, '          input = document.getElementById("InputLabel");\n');
fprintf(oid, '          filter = input.value.toUpperCase();\n');
fprintf(oid, '          table = document.getElementById("Table");\n');
fprintf(oid, '          tr = table.getElementsByTagName("tr");\n\n');
%
fprintf(oid, '          // Loop through all table rows, and hide those who don''t match the search query\n');
fprintf(oid, '          for (i = 0; i < tr.length; i++) {\n');
fprintf(oid, '          td = tr[i].getElementsByTagName("td")[%g];\n', 6 + 2 * (n_fVal == 3));
fprintf(oid, '          if (td) {\n');
fprintf(oid, '            if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {\n');
fprintf(oid, '              tr[i].style.display = "";\n');
fprintf(oid, '            } else {\n');
fprintf(oid, '              tr[i].style.display = "none";\n');
fprintf(oid, '              }\n');
fprintf(oid, '            }\n');
fprintf(oid, '          }\n');
fprintf(oid, '        }\n\n');
% selection for short/medium/long/pars
fprintf(oid, '        function FunctionShort() {\n');
fprintf(oid, '          // Declare variables\n');
fprintf(oid, '          var input, filter, table, tr, td, i;\n');
fprintf(oid, '          input = document.getElementById("InputShort");\n');
fprintf(oid, '          filter = input.value.toUpperCase();\n');
fprintf(oid, '          table = document.getElementById("Table");\n');
fprintf(oid, '          tr = table.getElementsByTagName("tr");\n\n');
%
fprintf(oid, '          // Loop through all table rows, and show some from the long list\n');
% filter S: popular short selection of some statistics
fprintf(oid, '          if (filter == "S") {\n');
fprintf(oid, '            for (i = 0; i < tr.length; i++) {\n');
fprintf(oid, '              td = tr[i].getElementsByTagName("td")[0];\n');
fprintf(oid, '              if (td) {\n');
fprintf(oid, '                if (\n');
fprintf(oid, '                    td.innerHTML == "f" ||\n');
fprintf(oid, '                    td.innerHTML == "r" ||\n');
fprintf(oid, '                    td.innerHTML == "t2" ||\n');
fprintf(oid, '                    td.innerHTML == "EWw_bi" ||\n');
fprintf(oid, '                    td.innerHTML == "EJ_X" \n');
fprintf(oid, '                  ) {\n');
fprintf(oid, '                  tr[i].style.display = "";\n');
fprintf(oid, '                } else {\n');
fprintf(oid, '                  tr[i].style.display = "none";\n');
fprintf(oid, '                }\n');
fprintf(oid, '              }\n');
fprintf(oid, '            }\n');
% filter M: medium selection
fprintf(oid, '          } else if (filter == "M") {\n');
fprintf(oid, '            for (i = 0; i < tr.length; i++) {\n');
fprintf(oid, '              td = tr[i].getElementsByTagName("td")[0];\n');
fprintf(oid, '              if (td) {\n');
fprintf(oid, '                if (\n');
fprintf(oid, '                    td.innerHTML == "f" ||\n');
fprintf(oid, '                    td.innerHTML == "r" ||\n');
fprintf(oid, '                    td.innerHTML == "t2" ||\n');
fprintf(oid, '                    td.innerHTML == "S_p" ||\n');
fprintf(oid, '                    td.innerHTML == "theta_jp" ||\n');
fprintf(oid, '                    td.innerHTML == "del_ea" ||\n');
fprintf(oid, '                    td.innerHTML == "ER" ||\n');
fprintf(oid, '                    td.innerHTML == "EWw_bi" ||\n');
fprintf(oid, '                    td.innerHTML == "EJ_X" \n');
fprintf(oid, '                  ) {\n');
fprintf(oid, '                  tr[i].style.display = "";\n');
fprintf(oid, '                } else {\n');
fprintf(oid, '                  tr[i].style.display = "none";\n');
fprintf(oid, '                }\n');
fprintf(oid, '              }\n');
fprintf(oid, '            }\n');
fprintf(oid, '          } else {\n'); % complete list
fprintf(oid, '            for (i = 0; i < tr.length; i++) {\n');
fprintf(oid, '              tr[i].style.display = "";\n');
fprintf(oid, '            }\n');
fprintf(oid, '          }\n');
fprintf(oid, '        }\n');
fprintf(oid, '      </script>\n');

if AmP
fprintf(oid, '    </div> <!REPLACE_WITH_DASH_DASH end of content REPLACE_WITH_DASH_DASH>\n\n');

fprintf(oid, '    <div w3-include-html="../../sys/footer_amp.html"></div>\n');
fprintf(oid, '    <script>w3IncludeHTML();</script>\n\n');

fprintf(oid, '  </div> <!REPLACE_WITH_DASH_DASH end of main wrapper REPLACE_WITH_DASH_DASH>\n');
fprintf(oid, '</div> <!REPLACE_WITH_DASH_DASH end of main REPLACE_WITH_DASH_DASH>\n');
end

fprintf(oid, '</BODY>\n');
fprintf(oid, '</HTML>\n');

fclose(oid);

if ~AmP
  web(fileName,'-browser') % open html in systems browser: web(fileName)
end



##### SOURCE END #####
--></body></html>